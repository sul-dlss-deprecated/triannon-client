---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/auth/client_identity
    body:
      encoding: UTF-8
      string: '{"clientId":"clientA","clientSecret":"secretA"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"d2c2fa239f624d598df35536c4e081ca"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - fbeaa3ad-3d24-4d7f-ae4f-69e1947769cd
      X-Runtime:
      - '0.172711'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 20:47:19 GMT
      Content-Length:
      - '186'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=K0UvaFd6L01iUlBmVnJnbndsb1JwVDBmVWV6VjE3Z1NLOWN4QTNuanU2VWZqMTc4WnQ4eWZOVXQvZStzZFFSb0ttYUQ3dW5RTTRrdVVETUkzcUdvN3ROZW0wWWV3TEhQUm55VjNaYmV0RmFSSTczZXJiMjlTeWppSkRhY2J6T1dPeld5N1loWTJDVDEzVS8wQVZzdHZKMWxldTk5NDNNQmpoZDYxejJoY2xPeDdvTUdrTlBFUFZRUEQ5cVh3OHoxQTQvZUppUFoyNmttckg0d2VPakFFYUtBUHJKRFVCNzV3YjVubUNPaXY5a1lYbFAxM0tmVFlhcks4RGROQzNycnVJK2lhZE5WTG9uZG43eDBzY0EvZkJCN2I4bExTMXdaS1F2Z0dIVmU5WEI2bGZTL1NMQmhObmJaUFpyOXF5TkQ0Y1NqbzRQT0lQSUM5TUJSOCtuTXMxOFBvbk9VeVFmaGJ6U2hCaGZTWnFFelhJbHVSTGtBb2xYSkdmZjd5S1cxazdObFQvUnduL0hheitCM0JYUWFKVW00TDZ3b2NSMnN2QlZTS1lFc1pTMnBBdTREcVVraWpLc0kxMzBoZ0p5UFByMHk0S3NRS0x2SnZmdXRXdlFJLytueUptR0ptY2FLUmdxdVd6blhmcTA9LS1QL2cySFQ3NmQrNzNBY3ljUDdhK2pRPT0%3D--81e474452db9f2316eac3bc62bd1de43e2efa78e;
        path=/; HttpOnly
      - request_method=POST; path=/
    body:
      encoding: UTF-8
      string: '{"authorizationCode":"NGhiTUVWZjJSNlNiR0Q2NjdxYzdzcW1pRU9tek0zOW1xQ2FJUVUrcDBGVXpWRWQrZFd2MHpVT2toOUhDdnExYy0tend1ZmtWVUV5c3pEdlpPUTMyNWZPZz09--7c5e24a569d58ec82455c9fd0668b7683be849fb"}'
    http_version: 
  recorded_at: Fri, 31 Jul 2015 20:47:19 GMT
- request:
    method: post
    uri: http://localhost:3000/auth/login?code=NGhiTUVWZjJSNlNiR0Q2NjdxYzdzcW1pRU9tek0zOW1xQ2FJUVUrcDBGVXpWRWQrZFd2MHpVT2toOUhDdnExYy0tend1ZmtWVUV5c3pEdlpPUTMyNWZPZz09--7c5e24a569d58ec82455c9fd0668b7683be849fb
    body:
      encoding: UTF-8
      string: '{"userId":"","workgroups":"org:wg-A, org:wg-B"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Cookie:
      - _internal_session=K0UvaFd6L01iUlBmVnJnbndsb1JwVDBmVWV6VjE3Z1NLOWN4QTNuanU2VWZqMTc4WnQ4eWZOVXQvZStzZFFSb0ttYUQ3dW5RTTRrdVVETUkzcUdvN3ROZW0wWWV3TEhQUm55VjNaYmV0RmFSSTczZXJiMjlTeWppSkRhY2J6T1dPeld5N1loWTJDVDEzVS8wQVZzdHZKMWxldTk5NDNNQmpoZDYxejJoY2xPeDdvTUdrTlBFUFZRUEQ5cVh3OHoxQTQvZUppUFoyNmttckg0d2VPakFFYUtBUHJKRFVCNzV3YjVubUNPaXY5a1lYbFAxM0tmVFlhcks4RGROQzNycnVJK2lhZE5WTG9uZG43eDBzY0EvZkJCN2I4bExTMXdaS1F2Z0dIVmU5WEI2bGZTL1NMQmhObmJaUFpyOXF5TkQ0Y1NqbzRQT0lQSUM5TUJSOCtuTXMxOFBvbk9VeVFmaGJ6U2hCaGZTWnFFelhJbHVSTGtBb2xYSkdmZjd5S1cxazdObFQvUnduL0hheitCM0JYUWFKVW00TDZ3b2NSMnN2QlZTS1lFc1pTMnBBdTREcVVraWpLc0kxMzBoZ0p5UFByMHk0S3NRS0x2SnZmdXRXdlFJLytueUptR0ptY2FLUmdxdVd6blhmcTA9LS1QL2cySFQ3NmQrNzNBY3ljUDdhK2pRPT0%3D--81e474452db9f2316eac3bc62bd1de43e2efa78e;
        request_method=POST
      Content-Length:
      - '47'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - text/plain; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 9ec3d98e-0d9c-4121-8798-1937bf742000
      X-Runtime:
      - '0.168130'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 20:47:20 GMT
      Content-Length:
      - '0'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=cTA3VUIvU2R4NDBmQ2FDT28rQVVmcmVKbGtKeCtSd0dFUEJ5OFJCS2JwQU9IU0tCUXBPVVlOS09pVVhydm5KOHEreTZEKzJ1aFVJRzBtc25wcDZkanp6dFo5M3R5azFUZ3Y1TEtGbDBYTmpTcFh3dkZmVTl6dnNCc0NVTWpqUTkyYnJ0b2xaOEJhclN1aFE3L2xFUkVKUURTTUEwRVpsQW4vUzRtTW1qbit1ZG9KOGp4NHhIR1ptOEZkdXUvRmwyL1RwOFNzZ0dOVHJoUllrUlV1S2MyMjlQQTVia0R0SWgzUy9tMlp2Zzkxd0RnWFBEMXBIdTA5UWFOSEtkK2hvcFZvR3YwVkNPbzVjam50bUFMRTgxZERNblVTZnFYTjJiam9aeWNSek05amZnSG8vOW01c090TXFscTFSYWtpK3JpQUVRdkJickJGRGlSbmdsWFZ1RjNXWDBSTXVJa2VRdTVHVGQ5UTFpd1R6bVJBcjNidnhzT3RrZ1FJNkJQQ0NRbmh0U2V4YVF1dDBiTUpHOWtyNXdHTElFYndQeTRYbVpqTkEvNFpubVM0amFYTVhiaGl1dWhDdjBhcDBWWjhIRkpqQ0dOWGpuMkRQcHNnSCsydU1GZTRnTVF4b3FVUlBlN2VZRE96VmVFd3hlM0w5bzFGb1ZRM3ROYXdnbzBiV0psbFBmeE44Sm5OT2lhRytRUGZVc1p0alQvMDBIUzZYclFFaWw1RUQ2b2xvZGRzYWpmK3JyNEM5b1hoOS9uTDRRLS16SklpdWJDRFNsRnVXVkZtc1VnZ21nPT0%3D--73639c0dbde0c25c26ddb09cc578e086370c0bed;
        path=/; HttpOnly
      - login_user=; path=/
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Fri, 31 Jul 2015 20:47:20 GMT
- request:
    method: get
    uri: http://localhost:3000/auth/access_token?code=NGhiTUVWZjJSNlNiR0Q2NjdxYzdzcW1pRU9tek0zOW1xQ2FJUVUrcDBGVXpWRWQrZFd2MHpVT2toOUhDdnExYy0tend1ZmtWVUV5c3pEdlpPUTMyNWZPZz09--7c5e24a569d58ec82455c9fd0668b7683be849fb
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/ld+json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/ld+json
      Cookie:
      - _internal_session=cTA3VUIvU2R4NDBmQ2FDT28rQVVmcmVKbGtKeCtSd0dFUEJ5OFJCS2JwQU9IU0tCUXBPVVlOS09pVVhydm5KOHEreTZEKzJ1aFVJRzBtc25wcDZkanp6dFo5M3R5azFUZ3Y1TEtGbDBYTmpTcFh3dkZmVTl6dnNCc0NVTWpqUTkyYnJ0b2xaOEJhclN1aFE3L2xFUkVKUURTTUEwRVpsQW4vUzRtTW1qbit1ZG9KOGp4NHhIR1ptOEZkdXUvRmwyL1RwOFNzZ0dOVHJoUllrUlV1S2MyMjlQQTVia0R0SWgzUy9tMlp2Zzkxd0RnWFBEMXBIdTA5UWFOSEtkK2hvcFZvR3YwVkNPbzVjam50bUFMRTgxZERNblVTZnFYTjJiam9aeWNSek05amZnSG8vOW01c090TXFscTFSYWtpK3JpQUVRdkJickJGRGlSbmdsWFZ1RjNXWDBSTXVJa2VRdTVHVGQ5UTFpd1R6bVJBcjNidnhzT3RrZ1FJNkJQQ0NRbmh0U2V4YVF1dDBiTUpHOWtyNXdHTElFYndQeTRYbVpqTkEvNFpubVM0amFYTVhiaGl1dWhDdjBhcDBWWjhIRkpqQ0dOWGpuMkRQcHNnSCsydU1GZTRnTVF4b3FVUlBlN2VZRE96VmVFd3hlM0w5bzFGb1ZRM3ROYXdnbzBiV0psbFBmeE44Sm5OT2lhRytRUGZVc1p0alQvMDBIUzZYclFFaWw1RUQ2b2xvZGRzYWpmK3JyNEM5b1hoOS9uTDRRLS16SklpdWJDRFNsRnVXVkZtc1VnZ21nPT0%3D--73639c0dbde0c25c26ddb09cc578e086370c0bed;
        login_user=
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - '["application/ld+json"]; charset=utf-8'
      Etag:
      - W/"1a06a6939cab617816c8f443e27ed88b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 500c7e4a-a94d-47f8-9934-28bf1128e51f
      X-Runtime:
      - '0.333857'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 20:47:20 GMT
      Content-Length:
      - '306'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=d3htT1Zld2tya0RscUw0cTRjWHlLZW5SVVF2QWNYbjJvTUhtTXBIZ3FlRWNjRGk0OVJ5eldMOFVOdnpxODVJZERrcXBUekVlbGtQaVFRaGdZZlYyRzI3N3BxOVNjYlFxa0JRaWtHUndJUzd2WUlMeFQ5azl1OEVCaTVuMnN6NTRPL2Z1eEpnWGlJazQ3elhlM0J0VElFVHhWSERxUUhLWlF4QUFZbXVDYWNldmR6S2VuQllDNVZxWWgrdFJTekl0TWlZcGIzU2NnZXp5SGdpMDc0NFBid3Y4VzJLSG9SZHdJLzgzYlZ1RHBjK1Y0eW1vU0xMZ1NOVWRwNk1NY0JSV2t6ZFBNSVZBQ3o5ZlVrdXptRWxibURQNEc3cFZQZjlmTXhBM2g3YTNpY2k1cS82MGJPSzFmYkc3Skc3aDNtK1dtZzdyWnllYytoZllFaUNPYVFTV3Z5OFBVY0NtaHpoY3B4TFNnYVNMOW9ja29odUdqaEkyU1loaDNqQjl5ekluTXI4Y0RxcndDNU41M2t6Vkd4bUllbFlKSTg2NVE5ak1ES3h1ZUh2UHg0QmFSZnVnUENpUC92cy9DSUtyRFltV1FXendKZjNYcGdUblpqUGhXN0psY25KR0M3Z0ZqSi9VelBncm8rTENxNVVFbGs3Q2tDRThaWjNQakQydkdHTlFUSml4RE5YalZ1aGs0MmZyOXJPR09zVE1GOW5seWVDa0tudTVOMEkrblZWMWw4M3pERU02d1luUTZuVUJyZm9wRkdDYjRCdFNEQmNQcEVkY09QN3ZKbmRudFhrWWlDblhCR21KYmZZcGlDaGt6SmZwUUVZRytXS3hkd3VZMkxaemt5Z01veElJZ2NoZUhVMVNUd3MrejJLQnFmOVNvbTdaamJjOWJtQm40U04zMEpjaGF0Ty84ZHppN3ZMQkZPRWhZZlRWZGlFemg1clJDbnhwc2Z2RXZrWVRPYnFKdWQrN2VLazZlZmVkNlYxQU5Zc0ZZeXF1aWRUakZUOCtmTnVValFXKzQ1dzZNZXUvN3pGMXowYXo5VnpYMEs3OUkwR1JYMzVxdEJuaENIdHVyMmVBa1M1eTJDZHp6dC9iaGwzTElWNEs0aDVGZks4cXZVL1AzRU53TzZ2bTgzVG1aRDdUUTFiSWtxbGp2bG5DdlBFbURuenFvaUVFNmNNbFI3YkVrd05aU0JYRG93dmNiMzE3ZVMzcnRodzU5T3grMkNmS2NPSVBSSFJ1dUNtSUVqbE0rNHJ3WFJVUWh5RnZyZlo1MTJCY3UxcnlUeldMSEVaMzMvUGNmSENLd0JGOEZ1WjF2ZzFqZlZMUEV1az0tLVorN1IxSzExTzhWN3czYUpYa2VjRmc9PQ%3D%3D--66cf2a21767a78f86c505d88bdd4646072c46eb8;
        path=/; HttpOnly
      - login_user=; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 -0000
    body:
      encoding: UTF-8
      string: '{"accessToken":"WnZMSCtiSFpMRnd3anhQV21wOWNubU1UZEdGbmUvOUFGZlpWc1hpazVxeU1IalQwL3B2VDFzUUFwcy9PQWtkazc3VkdIMHJSbkFHWG5xQWJWYnkyMUxBQTQ1OGMwR2dhRUhWUWsxNlRweVZiaXVhQmdiZmU3NkwyVlNndWQ0ZGstLXJhRFRVeS9BRmdZUGFwQ1lQUldjV0E9PQ==--83abaea88fa8ae38cb5810fce34473ac76d089aa","tokenType":"Bearer","expiresIn":3600}'
    http_version: 
  recorded_at: Fri, 31 Jul 2015 20:47:20 GMT
recorded_with: VCR 2.9.3
