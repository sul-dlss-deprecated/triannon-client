---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/auth/client_identity
    body:
      encoding: UTF-8
      string: '{"clientId":"clientA","clientSecret":"secretA"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"e8f22a895c04e0f1e7de032c7d04f15c"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 35595f87-7ed0-4d74-8515-c1cdfd349b47
      X-Runtime:
      - '0.163544'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 23:57:43 GMT
      Content-Length:
      - '186'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=cG56QkxPY0oyZy9OVVV0cldQS25McXVVMTVRb3JzWjFvVjByWEREUDFZQWNYWVh2NjF1dk9Dai9Hcmp4L2tFZW5IY0F3RTBZT3ZhOW5yZnNXR0VOVjU3dUZRVTBIenowWllIK0RpdFdNa3BNeGdTb0tJcFBOcmNQRUF6NDd3TVBjYU5ZUzB0bzlaV1QrTERrYjVzdG9BbEFvMmZHckxuR0lZSUpnanFMY2JLOGt2V3k1aHJMeUZDUm82azBCbE5YKzdNRWdIWlRKMFBGTmxEdHE4eHpmNkRmaXVmdmRhTS9uYnFmWVovTzV5ZzI5RTNCUC9BT0dXdTl2M0E1bllGeW5YVnFPRVlrRlJ1U3pLV24zblV0cWZvbkRydUk2bjJ6VElVMEFCdVY3MGVwSFFkSU5WdDFBc1M2UXJEZkxnYWFuWVQ2dkhuWjhWRXh4N2FhVGEvY2VtdThhMWtVN2tzdXhIdlJtd05iNHhXM0xMdi8wVHoreHovektqbGJKY0lQTEpubHRtNHZ6d09LeDg5TTkyVnQrQ1R6ZVpOWGRVT0VSSjlBdjFDVGVPQ2ZJMForN2dHRVNrdW1XQnY3OTBqaXl3OWQyckZOa1JGYmJ2cU84QWlxTkFwWVRmNGJWQzRzZ0xjcDUvWlF2MXc9LS0zN0NPQ0FuRTM3WEQwMklXcG5yUyt3PT0%3D--17ad8b97f8d7c17e1cbcaad2db65babb068136e7;
        path=/; HttpOnly
      - request_method=POST; path=/
    body:
      encoding: UTF-8
      string: '{"authorizationCode":"dHQ3aWFsS09SR29PVk9nSmNVTHNsMGcvRlBHeXFMTG1MazBMM0lSeTdpNEVVNThaQTJZNzVqdXVHaDBEK0ZpQy0tai9XUzJtQWJtOTlCaytRTU95dm02QT09--c21d1da9599be646488f8291c900763306694ec2"}'
    http_version: 
  recorded_at: Fri, 31 Jul 2015 23:57:43 GMT
- request:
    method: post
    uri: http://localhost:3000/auth/login?code=dHQ3aWFsS09SR29PVk9nSmNVTHNsMGcvRlBHeXFMTG1MazBMM0lSeTdpNEVVNThaQTJZNzVqdXVHaDBEK0ZpQy0tai9XUzJtQWJtOTlCaytRTU95dm02QT09--c21d1da9599be646488f8291c900763306694ec2
    body:
      encoding: UTF-8
      string: '{"userId":"","workgroups":"org:wg-A, org:wg-B"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Cookie:
      - _internal_session=cG56QkxPY0oyZy9OVVV0cldQS25McXVVMTVRb3JzWjFvVjByWEREUDFZQWNYWVh2NjF1dk9Dai9Hcmp4L2tFZW5IY0F3RTBZT3ZhOW5yZnNXR0VOVjU3dUZRVTBIenowWllIK0RpdFdNa3BNeGdTb0tJcFBOcmNQRUF6NDd3TVBjYU5ZUzB0bzlaV1QrTERrYjVzdG9BbEFvMmZHckxuR0lZSUpnanFMY2JLOGt2V3k1aHJMeUZDUm82azBCbE5YKzdNRWdIWlRKMFBGTmxEdHE4eHpmNkRmaXVmdmRhTS9uYnFmWVovTzV5ZzI5RTNCUC9BT0dXdTl2M0E1bllGeW5YVnFPRVlrRlJ1U3pLV24zblV0cWZvbkRydUk2bjJ6VElVMEFCdVY3MGVwSFFkSU5WdDFBc1M2UXJEZkxnYWFuWVQ2dkhuWjhWRXh4N2FhVGEvY2VtdThhMWtVN2tzdXhIdlJtd05iNHhXM0xMdi8wVHoreHovektqbGJKY0lQTEpubHRtNHZ6d09LeDg5TTkyVnQrQ1R6ZVpOWGRVT0VSSjlBdjFDVGVPQ2ZJMForN2dHRVNrdW1XQnY3OTBqaXl3OWQyckZOa1JGYmJ2cU84QWlxTkFwWVRmNGJWQzRzZ0xjcDUvWlF2MXc9LS0zN0NPQ0FuRTM3WEQwMklXcG5yUyt3PT0%3D--17ad8b97f8d7c17e1cbcaad2db65babb068136e7;
        request_method=POST
      Content-Length:
      - '47'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - text/plain; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 9c1df95a-add0-49d2-9472-78b93af0252a
      X-Runtime:
      - '0.160494'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 23:57:43 GMT
      Content-Length:
      - '0'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=dVpZWURGQVhLTlZNcVBIWlNEUXpHc2wyVzZYV25YaldrRFh6b2FaY0dPb09GeG5MWi96NGZMVktheGxPaHhCYk1lV1hadENYd0x0VUpLWmlURFBsb2IwMGtxUWt4M1lrZ0FTanFwdEJmWlJUUWdkYUhyb0d3UEpsdklVUXlJVjlhL2lxNy84Y3l2NWJoTU4rTzBJTnlmc2REN0U4VDdlMk4rOW04cTJXSHNFckJCdmUyQUhlOWZvWWxobHpQUlF6LzByVFBZQ3BhWnZ4Uks4NFVHNU03T2oveHB0aU5BRDlMeG94Z0llVnZaWW0xMjY4U0xoL1NVSHdCNHVpYkxkdGlCdlJJOU8vRFFlUzFVNTh3MW5mb2lYTHZUYlJ6NFI4M3pBR0V5NDdPQ3BFSWhxVmhjb3hZRXNOZWoyeTdIRGpXYmhRNUs1Rkp6akhKTkFQMHF2bCsvREZUdTVDNC9hWkZHd1VNS3Vvd1VDM1BEUUZMbkl4UGUyb3pIVjZXQkhGbTBublpPd0JvQWlHdWFTWkRUS3dTL1o4NGhXTmtPS0NzNGN0S084NXRENlFXYjVzZGdMQmc3eVJQZm5xRDJRWHlPcnpld28wTUYzWFNkTkd3T3NLcUJPM0ZCWC8vVXVNZG5SS2E2VHpaWTQ4NVBwQUdaWW9pbFozUjA1Y2p4aDFXYjNtVTQ3ejdWN0dtcXBONVl1c0thRTJ4R0hLUzdWUVFXUXQ4NWpPUGlzVFJGcmwybEFFYnltYUkxY2xWOEY3LS1Rb1o5WjlkV1RIeEZaYlhBMlhJeW5RPT0%3D--11060c666b90b2cd6d8bce385fd7357f2f20beb5;
        path=/; HttpOnly
      - login_user=; path=/
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Fri, 31 Jul 2015 23:57:43 GMT
- request:
    method: get
    uri: http://localhost:3000/auth/access_token?code=dHQ3aWFsS09SR29PVk9nSmNVTHNsMGcvRlBHeXFMTG1MazBMM0lSeTdpNEVVNThaQTJZNzVqdXVHaDBEK0ZpQy0tai9XUzJtQWJtOTlCaytRTU95dm02QT09--c21d1da9599be646488f8291c900763306694ec2
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/ld+json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/ld+json
      Cookie:
      - _internal_session=dVpZWURGQVhLTlZNcVBIWlNEUXpHc2wyVzZYV25YaldrRFh6b2FaY0dPb09GeG5MWi96NGZMVktheGxPaHhCYk1lV1hadENYd0x0VUpLWmlURFBsb2IwMGtxUWt4M1lrZ0FTanFwdEJmWlJUUWdkYUhyb0d3UEpsdklVUXlJVjlhL2lxNy84Y3l2NWJoTU4rTzBJTnlmc2REN0U4VDdlMk4rOW04cTJXSHNFckJCdmUyQUhlOWZvWWxobHpQUlF6LzByVFBZQ3BhWnZ4Uks4NFVHNU03T2oveHB0aU5BRDlMeG94Z0llVnZaWW0xMjY4U0xoL1NVSHdCNHVpYkxkdGlCdlJJOU8vRFFlUzFVNTh3MW5mb2lYTHZUYlJ6NFI4M3pBR0V5NDdPQ3BFSWhxVmhjb3hZRXNOZWoyeTdIRGpXYmhRNUs1Rkp6akhKTkFQMHF2bCsvREZUdTVDNC9hWkZHd1VNS3Vvd1VDM1BEUUZMbkl4UGUyb3pIVjZXQkhGbTBublpPd0JvQWlHdWFTWkRUS3dTL1o4NGhXTmtPS0NzNGN0S084NXRENlFXYjVzZGdMQmc3eVJQZm5xRDJRWHlPcnpld28wTUYzWFNkTkd3T3NLcUJPM0ZCWC8vVXVNZG5SS2E2VHpaWTQ4NVBwQUdaWW9pbFozUjA1Y2p4aDFXYjNtVTQ3ejdWN0dtcXBONVl1c0thRTJ4R0hLUzdWUVFXUXQ4NWpPUGlzVFJGcmwybEFFYnltYUkxY2xWOEY3LS1Rb1o5WjlkV1RIeEZaYlhBMlhJeW5RPT0%3D--11060c666b90b2cd6d8bce385fd7357f2f20beb5;
        login_user=
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - '["application/ld+json"]; charset=utf-8'
      Etag:
      - W/"330014088a4725ad7976fbee4006bbcc"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3b0db07b-6d71-47ac-b150-ef5bd541b480
      X-Runtime:
      - '0.322735'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 23:57:44 GMT
      Content-Length:
      - '306'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=MHQ5dVVleGxUU1ltVEhtV3RicWdlV2lsZG85TGlZWDlCTnp2QmxlVXY2OWpNMTlWaE5OMUluVFA1bDZXbFJHQ2V2d3piSjdTcFd2SVF0ZVZDM2s4dVJZUU5MNUxwTExjQ1NTalgvNEd0ZXhjTUNRNThXcnlQRER5Um05RWJaUHFRbHE5MHRDb01CazFHdVlmTEdhbWY2MW8xcXJXdWd2N2cxK2NQczNxclJlTkhXNE00Vy8wNUpUNXZTUFg1MWVWUEZxa080Rm9OSk5xd21HV2hVWlg2bVVzUWtZMEpwenBHenN2aE5wSEEvcXVuYkYzVklhdGJOaEhpczVDaXNUaSt2WTU0OWVzZ3pzV3U4QktqaXpkb0FWMEJtVHhOUlovekk1Zm9vdnV5WEM2RlJBSVhqM3BzZkNuNXpvM0VoR3JFUWdNeTRYK2gxNm94cDdTREVkZUczWVdsS2FGcXBsTFEwVWNRVngrUDFIV3RSUkZXeE5VYmt1TVlsdEM2dGY0dXJ1UFo5UG5sQmU5K0dCTDNmWDFOQ044NTJlZ2FEOE5DMkF2c1R4Q3RmdDdXeDIvMk4wRDlMd3k5TWM4K2FUS295WlZSbTNDRXhiU1hYRmRPWkZsUGFuUGt5ZnVSQkFZcG03VE9FaEpDS0hYdkxHSnpRZUZ6TXFGc1ZjTXhIZmw5ZDRyTDdzQXhLQUhjNEFsZkM1VFo4VlFxTUcrQTdrQ3llQ1V5TlA5UVQ5N09vY096aUZxNUZ0VEhRVzhrZTRMTytBc3lBZHVoSmNUcEd1Vjc3MHhuWmh0TzZhbEkySTNRV3A0WVZkTVk1bFhRMVpZQUNuc3RZcHp5R214b0V6dGxhTUMvN0pRZEZXM0RObFMyUTNiMko0SDAxdWxaOXBudXdjNUppWk1oSVUwRXV3Z3BSaWI1RTN5MkVrbGpTMmhHZ2RmSHJTSzkyTkZ1MkNxcnZQMXJYYXAyeFFVQ1RzQ2ZtNHVUQ3pNRm02cnE0MXE1UDRSU1RkUWJMODhoU3ZJWXlYcklHbGFsell4b0NuUHBuZms3TkZHYTBpclF6TlZoYWhEK3MwUVpCdnpFaU1lRWljNmZBbnpUcE5jemJDMVVuOHFSSlpicDF1aGdZbFJPMHhRTXdYUUNmSEJsb20rN2RpVkFmeFd1NTVFMkY1Yi8xcGE3QW8zMVg2VGxjajRRQUM5TmpldnRITzBuSEsyYnJ3djJWS09iU3hPdFQvN3JOWHBNZm1PNnBzc2t4UGNLV0gvY1ZwbndYSDRVRkxjbkI5Tkt1RjNQVGdraTQ3b2NHV25uK1Zkby9JdkgxRHk3N1psQUFHZ0hNUT0tLVJkOERZL3Nha3M0ZlhUa2E1dlE2bVE9PQ%3D%3D--fbd15926b7bd77fd4775bb304a35438351fb30db;
        path=/; HttpOnly
      - login_user=; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 -0000
    body:
      encoding: UTF-8
      string: '{"accessToken":"clcyUEp6TUw2UVFBTkpLdjBneWFSK2lLUjhNbThHdnQ4NEZydzlMdlJPNmFDZEo2U2hwcmxSOEljbEVIeWdqUmswTWV6djdRemNKMjhZZExHRElPRlNBdVlDQnZ1TnFyMzVhRW5CN1NsdnNkQmJRRzJIZ3AyN0lQVGlKNHpmYngtLVNQQXpIQUVHa0hpbkpLNGhKd0tBZ0E9PQ==--d6d2d1fd002424bb7fc78b985f4039008c55309c","tokenType":"Bearer","expiresIn":3600}'
    http_version: 
  recorded_at: Fri, 31 Jul 2015 23:57:44 GMT
recorded_with: VCR 2.9.3
