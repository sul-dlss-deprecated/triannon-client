---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/auth/client_identity
    body:
      encoding: UTF-8
      string: '{"clientId":"clientA","clientSecret":"secretA"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"1418f0f1885a3988a2781363c56e0b64"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a4b6587d-f41b-41be-acbe-05f423046820
      X-Runtime:
      - '0.165384'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 20:47:17 GMT
      Content-Length:
      - '186'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=S3o5SkFIellNM2NDbHVUTVI3WXFJWGtyZ29BMXUvN091Qzg4UzFwaWxIejdoeGpxemU5ZjZ5eWhES2dWSnJtYmxjV2lVbkVlVXdiOTViMXBIUGY2K0YzTC9KajQ2S0ozV240NDYyZnhwWHdDeTJ3S2wwekl4M0Vjem9VWEdPYXZxMkxnb0MrTUxXUTd6UWcrU3J5VmhwcjBRaFZ6aU4yajJxbkxUSXNUZUlmOHdLblB5NHRyOXBkU1FFY1FneklyVXBDM1FWalJMaTM2dDJocDJtbUs4ZlhSVzdpOXRGcGc4Q2s5cjlEd1BGSEY2N28weXB5WkVvdklxMzV6T1pHOVBBTUc1WXEzY1pPem5xL2VlSnpidG1icmdSWEl0SG44MmZpYUR3c0NrWUZzajlzWjYrbXA0ajMraXpHUSs4L1BGeGVJOVQ3UjJPbDJISGwrci9RSzFJWlM5MndTZlRnRVJFYnp6MHpXeWxDR2VjbTNEclhUeWV3ZURVVjFOSkpCbXAvdTVYazBjMnRDeGRiczhtOFVuNy9LMUNmTUlCZ25WRDBidlJUYWxZaFRzd3RXVlBsM3dvUklpTHVqOVkxTlV0RWs3SVo1UDRjUVI3OVN2VmRkSzFDWkVxR0RHUWNXblJDYzNlZlNPTEE9LS0xRjJXWHhYZSt4bUUyVlcyeEk5MWpRPT0%3D--aa6c855583dc17edfddb6c367557b4c9c50602be;
        path=/; HttpOnly
      - request_method=POST; path=/
    body:
      encoding: UTF-8
      string: '{"authorizationCode":"R3VsRDN3Lzc3d0wxaVlKc202VDRvVkhoTzdEYng2QklCUjJZN3VOOXdldnRRUTd6QndQc0dpdmVkZTFDZGZOOS0tWmNGWnQ4WFA5N0FpUHkvVCtMSnFyZz09--06dff4611864df78ff5cea568d6ff61955a038b8"}'
    http_version: 
  recorded_at: Fri, 31 Jul 2015 20:47:17 GMT
- request:
    method: post
    uri: http://localhost:3000/auth/login?code=R3VsRDN3Lzc3d0wxaVlKc202VDRvVkhoTzdEYng2QklCUjJZN3VOOXdldnRRUTd6QndQc0dpdmVkZTFDZGZOOS0tWmNGWnQ4WFA5N0FpUHkvVCtMSnFyZz09--06dff4611864df78ff5cea568d6ff61955a038b8
    body:
      encoding: UTF-8
      string: '{"userId":"","workgroups":"org:wg-A, org:wg-B"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Cookie:
      - _internal_session=S3o5SkFIellNM2NDbHVUTVI3WXFJWGtyZ29BMXUvN091Qzg4UzFwaWxIejdoeGpxemU5ZjZ5eWhES2dWSnJtYmxjV2lVbkVlVXdiOTViMXBIUGY2K0YzTC9KajQ2S0ozV240NDYyZnhwWHdDeTJ3S2wwekl4M0Vjem9VWEdPYXZxMkxnb0MrTUxXUTd6UWcrU3J5VmhwcjBRaFZ6aU4yajJxbkxUSXNUZUlmOHdLblB5NHRyOXBkU1FFY1FneklyVXBDM1FWalJMaTM2dDJocDJtbUs4ZlhSVzdpOXRGcGc4Q2s5cjlEd1BGSEY2N28weXB5WkVvdklxMzV6T1pHOVBBTUc1WXEzY1pPem5xL2VlSnpidG1icmdSWEl0SG44MmZpYUR3c0NrWUZzajlzWjYrbXA0ajMraXpHUSs4L1BGeGVJOVQ3UjJPbDJISGwrci9RSzFJWlM5MndTZlRnRVJFYnp6MHpXeWxDR2VjbTNEclhUeWV3ZURVVjFOSkpCbXAvdTVYazBjMnRDeGRiczhtOFVuNy9LMUNmTUlCZ25WRDBidlJUYWxZaFRzd3RXVlBsM3dvUklpTHVqOVkxTlV0RWs3SVo1UDRjUVI3OVN2VmRkSzFDWkVxR0RHUWNXblJDYzNlZlNPTEE9LS0xRjJXWHhYZSt4bUUyVlcyeEk5MWpRPT0%3D--aa6c855583dc17edfddb6c367557b4c9c50602be;
        request_method=POST
      Content-Length:
      - '47'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - text/plain; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 6f0e8d90-c07b-405a-96d1-3607cff96552
      X-Runtime:
      - '0.163506'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 20:47:17 GMT
      Content-Length:
      - '0'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=STlFUWFZS01UM21SZzVRbHpnY1RJZ2JhKytPTEx3eGR6Rkpubmt1aERQRXgxQzhyaFdTRmkwVGg3V2Rzei9uVDllUzZuRDhySGlnZndnZDZlbUU0bDBhcHN4TTNoWHZNVitVYzRoYUdLazQ5eG9LK2sybHZJcnJnMVJKSmFOM1lSOWh2RVVQR1o1WG1nblgyOTlLYUhabEQ0QWx0ZTM4ZlZVR3JEdTdJOWI5bW5oL1I0bmlWZXR1YThnNGg2VDlLVW83cDU3RXlCZkhsMVhZUmdtNUYvZm5aVE16MEhObDNtSHp1UVRZdVg5TTRRREJWVk1oLzZESy85ZDJvQWYrSG41TWdUaFdTVHhuN1JiUjhSeitGZGMrTS95RmY0eTlacHBHKy9MbldJRUxiQWNtVUYwejRDdzJpb2lhQ29Ea01DZFBlaURLdnBCTEZnbVVLR3NLN2FPS0Zoc2IwZTZ5RWE2K0Y4Zlp4STFYQUlnV3oyN2QydEF0S084d1MwVHRjeFlMVU93RllJdGErL1JtZlRWWGI3L0pDeTVFeFdmZXBSRzhLVHRsOFZwdy81VWl5d3NSK1dyMUl3bEtCVUwxd3BtL1NqN1dWeVV0bTR5UGM3dnJTSEZzYXZpQWw1amQxRUhsWlhxWVpiRzVtU01MQWhNb2thbUhEWnVrdVpLWGVNRjFYSUt3TkU4TjRuUHdLVkNTL2VKNk96OGJGOFY1WjJDUEhIbllFZUI4bUQvL0xWNDNuMVRWdElaV1RMQWxRLS1ycWprVFc1M0JvVHJldGF6YndJSElRPT0%3D--a9154f9b9067efb2e8550cccf18baf8e1118a0c2;
        path=/; HttpOnly
      - login_user=; path=/
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Fri, 31 Jul 2015 20:47:17 GMT
- request:
    method: get
    uri: http://localhost:3000/auth/access_token?code=R3VsRDN3Lzc3d0wxaVlKc202VDRvVkhoTzdEYng2QklCUjJZN3VOOXdldnRRUTd6QndQc0dpdmVkZTFDZGZOOS0tWmNGWnQ4WFA5N0FpUHkvVCtMSnFyZz09--06dff4611864df78ff5cea568d6ff61955a038b8
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/ld+json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/ld+json
      Cookie:
      - _internal_session=STlFUWFZS01UM21SZzVRbHpnY1RJZ2JhKytPTEx3eGR6Rkpubmt1aERQRXgxQzhyaFdTRmkwVGg3V2Rzei9uVDllUzZuRDhySGlnZndnZDZlbUU0bDBhcHN4TTNoWHZNVitVYzRoYUdLazQ5eG9LK2sybHZJcnJnMVJKSmFOM1lSOWh2RVVQR1o1WG1nblgyOTlLYUhabEQ0QWx0ZTM4ZlZVR3JEdTdJOWI5bW5oL1I0bmlWZXR1YThnNGg2VDlLVW83cDU3RXlCZkhsMVhZUmdtNUYvZm5aVE16MEhObDNtSHp1UVRZdVg5TTRRREJWVk1oLzZESy85ZDJvQWYrSG41TWdUaFdTVHhuN1JiUjhSeitGZGMrTS95RmY0eTlacHBHKy9MbldJRUxiQWNtVUYwejRDdzJpb2lhQ29Ea01DZFBlaURLdnBCTEZnbVVLR3NLN2FPS0Zoc2IwZTZ5RWE2K0Y4Zlp4STFYQUlnV3oyN2QydEF0S084d1MwVHRjeFlMVU93RllJdGErL1JtZlRWWGI3L0pDeTVFeFdmZXBSRzhLVHRsOFZwdy81VWl5d3NSK1dyMUl3bEtCVUwxd3BtL1NqN1dWeVV0bTR5UGM3dnJTSEZzYXZpQWw1amQxRUhsWlhxWVpiRzVtU01MQWhNb2thbUhEWnVrdVpLWGVNRjFYSUt3TkU4TjRuUHdLVkNTL2VKNk96OGJGOFY1WjJDUEhIbllFZUI4bUQvL0xWNDNuMVRWdElaV1RMQWxRLS1ycWprVFc1M0JvVHJldGF6YndJSElRPT0%3D--a9154f9b9067efb2e8550cccf18baf8e1118a0c2;
        login_user=
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - '["application/ld+json"]; charset=utf-8'
      Etag:
      - W/"5bd7dd07d178baa754dd3c9696a433ea"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a4ef3f35-a255-4cce-8ed4-1dd09bc73114
      X-Runtime:
      - '0.327994'
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.2/2015-04-13)
      Date:
      - Fri, 31 Jul 2015 20:47:17 GMT
      Content-Length:
      - '306'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _internal_session=RWpEVnB5T2FkaU1TakQzWlhRUUVPSGx5M0t4WHFPVHdidXJjZE5mYU9qOEV4U3BkN2FWR0hDZFBtSTBJNUc5QWNLQVQ3Qm1Na3dIUlE3OFdwTEgyQkZrSUVUNkhzYllFenU4dFB1ZHp0SmhqSk9XeGx2cEhUaWdhcHVBLythNDFIblg2WGxmSFI2K1lLMHl2S3NZdTZsQW0vYWcra3ZXZjZRSDZjUXBFWEVUWlN3QURPMktaZVpicjh4eGtCZEo4aUFPdXFKYlBoeWFsZysrZVBjU0VMeG45L2xUdjF1cUZ3Mm9YVFdTUXFWTXRGR0hEbVhXU0NJSzlLN1R0dXlhV3BWemlEZ3IyeXBENWZyKzdweCttVWEzOEUrVjYrVFRRbCtvTE0wdnAweTV0SmJSOTlNd1MzeGN4bCtiWnE3NXBUWUV4S1J2SmpxeEppQnpzbVNjdnNJbzVUNk5rdTg4cWVqOHMzM2IveHVLVGY3dTZqSkNTN2duTm81VGJYSzNNSm02Uk5ZT1pBL3hLSmlYdjFjMUdIYkJuT1lBd2pzTjh6cGUwMG1kdHJLeDV6anY1ZzdLS3ppOVdIQjdyUkpGL2ZoSmVzOXJJY1c3QXVKQ1hzMUVxd2xkMTFqajBHMFVtbE5sTWZibGJyUkMwbDZmSXpaaklEVlJJSmFkZTlIQXFzUmpQMjZmSXZDcTl5SWJTbHgyZUlUKzVsb0hFL29HeGp5OGs1SjQ2a0hvM1ZIMXh1QVhvaThybElZbVNueDV3eEFBYWlQSmg4K3l3d285ajF4OWxzYXl6QWV1VG02ZjNZOUdFSFVMT0V2UjQ5TVhaVklLUEU2SjJ6bkh6SDlURlYzZElDVWVobHZpMDFxQ3Z3WWhjZHB1ZFZKQjE2Q3pYbmdqMkxHSk10ZGdrU2JadEJPUmNwU2VtNW1tMGpxOUQ1QzQvaElNSEJsRytiSE9Xd3kxVTdMa3E5SHZMRloxQXFqQTNvekk1clQwQXZ5MGhLazFFNkdnQjdobW1nK04rUFpvaVdiRS9oaHdFNE5NelBIUXhhNG5XU3RZRkgvZ0JtZllPM0lKWGNPY2RwaHE2MWJ2UmloanRBeXlmK21PU1d1d0RnWE92bTVKM0pSd3BsTWNpUlc4UHU4aHArVGIrdk4xZHZ1SmZUclNWMzl5Qmgvc3pIUXFScERyUjRQRExsdUo0VnB2Nys4U3gwdU8rOElLRmdTaFBPK0lDcHYvclRadGpERUlkcHljb29qMFFlaVo1K1JwdXUzODJ4eU8va2dmWDVuWGZOenhmWHgwOGVyN1RSNEU1Ny9BNnV6ZkQ4eVBDbWU0NHBVOD0tLVFOTEYzaUFTMDhWM0gyR3pub0JuVXc9PQ%3D%3D--74f5c1051733738f09ded59bbb56509ebcd19f1c;
        path=/; HttpOnly
      - login_user=; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 -0000
    body:
      encoding: UTF-8
      string: '{"accessToken":"eEpjTERwblZ3KzA0N0tLK2l5Z1F1Wko1MGNrTUpOZ3hmS1ZOSVRNZExKaFJVc3YzZ0w2YThTRldEcDJsdzFxVnhzTUNsb1JYZ3RQM3RaWFZxakRHRXV4dUQ2NmZYeGRjamltOTBzdmR6RmVaTEZmR1dKWjNET01yUmxuSnFxTmEtLU1LR1JhN0VyY0l5a2pkZ2k4d1B5aXc9PQ==--bae8d016e12ae206142083501522bc51a3b2d3e4","tokenType":"Bearer","expiresIn":3600}'
    http_version: 
  recorded_at: Fri, 31 Jul 2015 20:47:17 GMT
recorded_with: VCR 2.9.3
